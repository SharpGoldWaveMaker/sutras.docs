import{isOn as G,isRenderableAttrValue as x,isSVGTag as j,propsToAttrMap as U,isBooleanAttr as q,includeBooleanAttr as z,isSSRSafeAttrName as F,escapeHtml as h,normalizeClass as K,isString as y,normalizeStyle as I,stringifyStyle as J,createVNode as E,isArray as m,ssrContextKey as N,toDisplayString as Q,getGlobalThis as X,isObject as Y,looseEqual as C,looseIndexOf as Z,isPromise as g,NOOP as A,isFunction as ee,Fragment as re,Static as te,Comment as ne,escapeHtmlComment as se,Text as oe,isVoidTag as ie,mergeProps as le,createApp as P,initDirectivesForSSR as fe,makeMap as ae,ssrUtils as B}from"./framework.BssAmy7X.js";/**
* @vue/server-renderer v3.4.23
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ce=ae(",key,ref,innerHTML,textContent,ref_key,ref_for");function ue(e,r){let t="";for(const n in e){if(ce(n)||G(n)||r==="textarea"&&n==="value")continue;const s=e[n];n==="class"?t+=` class="${he(s)}"`:n==="style"?t+=` style="${ye(s)}"`:t+=de(n,s,r)}return t}function de(e,r,t){if(!x(r))return"";const n=t&&(t.indexOf("-")>0||j(t))?e:U[e]||e.toLowerCase();return q(n)?z(r)?` ${n}`:"":F(n)?r===""?` ${n}`:` ${n}="${h(r)}"`:(console.warn(`[@vue/server-renderer] Skipped rendering unsafe attribute name: ${n}`),"")}function pe(e,r){return x(r)?` ${e}="${h(r)}"`:""}function he(e){return h(K(e))}function ye(e){if(!e)return"";if(y(e))return h(e);const r=I(e);return h(J(r))}function xe(e,r=null,t=null,n=null,s){return _(E(e,r,t),n,s)}function Pe(e,r,t,n,s,o,i){s("<!--[-->"),me(e,r,t,n,s,o,i),s("<!--]-->")}function me(e,r,t,n,s,o,i,l){const c=e[r];if(c){const f=[],a=c(t,p=>{f.push(p)},o,i?" "+i:"");if(m(a))T(s,a,o,i);else{let p=!0;if(l)p=!1;else for(let d=0;d<f.length;d++)if(!_e(f[d])){p=!1;break}if(p)n&&n();else{let d=0,w=f.length;l&&f[0]==="<!--[-->"&&f[w-1]==="<!--]-->"&&(d++,w--);for(let R=d;R<w;R++)s(f[R])}}}else n&&n()}const ge=/^<!--.*-->$/s,Se=/<!--[^]*?-->/gm;function _e(e){return typeof e!="string"||!ge.test(e)?!1:e.length<=8?!0:!e.replace(Se,"").trim()}function Te(e,r,t,n,s){e("<!--teleport start-->");const o=s.appContext.provides[N],i=o.__teleportBuffers||(o.__teleportBuffers={}),l=i[t]||(i[t]=[]),c=l.length;let f;if(n)r(e),f="<!--teleport anchor-->";else{const{getBuffer:u,push:a}=M();r(a),a("<!--teleport anchor-->"),f=u()}l.splice(c,0,f),e("<!--teleport end-->")}function We(e){return h(Q(e))}{const e=X(),r=(t,n)=>{let s;return(s=e[t])||(s=e[t]=[]),s.push(n),o=>{s.length>1?s.forEach(i=>i(o)):s[0](o)}};r("__VUE_INSTANCE_SETTERS__",t=>t),r("__VUE_SSR_SETTERS__",t=>t)}function Me(e,r){if(m(e)||y(e))for(let t=0,n=e.length;t<n;t++)r(e[t],t);else if(typeof e=="number")for(let t=0;t<e;t++)r(t+1,t);else if(Y(e))if(e[Symbol.iterator]){const t=Array.from(e);for(let n=0,s=t.length;n<s;n++)r(t[n],n)}else{const t=Object.keys(e);for(let n=0,s=t.length;n<s;n++){const o=t[n];r(e[o],o,n)}}}async function He(e,{default:r}){r?r():e("<!---->")}function Oe(e,r,t,n,s={}){return typeof r!="function"&&r.getSSRProps?r.getSSRProps({dir:r,instance:e,value:t,oldValue:void 0,arg:n,modifiers:s},null)||{}:{}}const De=C;function W(e,r){return Z(e,r)>-1}function Le(e,r,t){switch(e){case"radio":return C(r,t)?" checked":"";case"checkbox":return(m(r)?W(r,t):r)?" checked":"";default:return pe("value",r)}}function Ge(e={},r){const{type:t,value:n}=e;switch(t){case"radio":return C(r,n)?{checked:!0}:null;case"checkbox":return(m(r)?W(r,n):r)?{checked:!0}:null;default:return{value:r}}}function be(e,r){throw new Error("On-the-fly template compilation is not supported in the ESM build of @vue/server-renderer. All templates must be pre-compiled into render functions.")}const{createComponentInstance:we,setCurrentRenderingInstance:V,setupComponent:Re,renderComponentRoot:k,normalizeVNode:Ae}=B;function M(){let e=!1;const r=[];return{getBuffer(){return r},push(t){const n=y(t);e&&n?r[r.length-1]+=t:r.push(t),e=n,(g(t)||m(t)&&t.hasAsync)&&(r.hasAsync=!0)}}}function _(e,r=null,t){const n=we(e,r,null),s=Re(n,!0),o=g(s),i=n.sp;if(o||i){let l=o?s:Promise.resolve();return i&&(l=l.then(()=>Promise.all(i.map(c=>c.call(n.proxy)))).catch(A)),l.then(()=>v(n,t))}else return v(n,t)}function v(e,r){const t=e.type,{getBuffer:n,push:s}=M();if(ee(t)){let o=k(e);if(!t.props)for(const i in e.attrs)i.startsWith("data-v-")&&((o.props||(o.props={}))[i]="");S(s,e.subTree=o,e,r)}else{(!e.render||e.render===A)&&!e.ssrRender&&!t.ssrRender&&y(t.template)&&(t.ssrRender=be(t.template));for(const i of e.scope.effects)i.computed&&(i.computed._dirty=!0,i.computed._cacheable=!0);const o=e.ssrRender||t.ssrRender;if(o){let i=e.inheritAttrs!==!1?e.attrs:void 0,l=!1,c=e;for(;;){const u=c.vnode.scopeId;u&&(l||(i={...i},l=!0),i[u]="");const a=c.parent;if(a&&a.subTree&&a.subTree===c.vnode)c=a;else break}r&&(l||(i={...i}),i[r.trim()]="");const f=V(e);try{o(e.proxy,s,e,i,e.props,e.setupState,e.data,e.ctx)}finally{V(f)}}else e.render&&e.render!==A?S(s,e.subTree=k(e),e,r):(t.name||t.__file,s("<!---->"))}return n()}function S(e,r,t,n){const{type:s,shapeFlag:o,children:i}=r;switch(s){case oe:e(h(i));break;case ne:e(i?`<!--${se(i)}-->`:"<!---->");break;case te:e(i);break;case re:r.slotScopeIds&&(n=(n?n+" ":"")+r.slotScopeIds.join(" ")),e("<!--[-->"),T(e,i,t,n),e("<!--]-->");break;default:o&1?Ee(e,r,t,n):o&6?e(_(r,t,n)):o&64?Ce(e,r,t,n):o&128&&S(e,r.ssContent,t,n)}}function T(e,r,t,n){for(let s=0;s<r.length;s++)S(e,Ae(r[s]),t,n)}function Ee(e,r,t,n){const s=r.type;let{props:o,children:i,shapeFlag:l,scopeId:c,dirs:f}=r,u=`<${s}`;f&&(o=Ne(r,o,f)),o&&(u+=ue(o,s)),c&&(u+=` ${c}`);let a=t,p=r;for(;a&&p===a.subTree;)p=a.vnode,p.scopeId&&(u+=` ${p.scopeId}`),a=a.parent;if(n&&(u+=` ${n}`),e(u+">"),!ie(s)){let d=!1;o&&(o.innerHTML?(d=!0,e(o.innerHTML)):o.textContent?(d=!0,e(h(o.textContent))):s==="textarea"&&o.value&&(d=!0,e(h(o.value)))),d||(l&8?e(h(i)):l&16&&T(e,i,t,n)),e(`</${s}>`)}}function Ne(e,r,t){const n=[];for(let s=0;s<t.length;s++){const o=t[s],{dir:{getSSRProps:i}}=o;if(i){const l=i(o,e);l&&n.push(l)}}return le(r||{},...n)}function Ce(e,r,t,n){const s=r.props&&r.props.to,o=r.props&&r.props.disabled;if(!s)return[];if(!y(s))return[];Te(e,i=>{T(i,r.children,t,n)},s,o||o==="",t)}const{isVNode:Be}=B;async function $(e){if(e.hasAsync){let r="";for(let t=0;t<e.length;t++){let n=e[t];g(n)&&(n=await n),y(n)?r+=n:r+=await $(n)}return r}else return H(e)}function H(e){let r="";for(let t=0;t<e.length;t++){let n=e[t];y(n)?r+=n:r+=H(n)}return r}async function $e(e,r={}){if(Be(e))return $e(P({render:()=>e}),r);const t=E(e._component,e._props);t.appContext=e._context,e.provide(N,r);const n=await _(t),s=await $(n);if(await O(r),r.__watcherHandles)for(const o of r.__watcherHandles)o();return s}async function O(e){if(e.__teleportBuffers){e.teleports=e.teleports||{};for(const r in e.__teleportBuffers)e.teleports[r]=await $(await Promise.all([e.__teleportBuffers[r]]))}}const{isVNode:Ve}=B;async function D(e,r){if(e.hasAsync)for(let t=0;t<e.length;t++){let n=e[t];g(n)&&(n=await n),y(n)?r.push(n):await D(n,r)}else L(e,r)}function L(e,r){for(let t=0;t<e.length;t++){let n=e[t];y(n)?r.push(n):L(n,r)}}function b(e,r,t){if(Ve(e))return b(P({render:()=>e}),r,t);const n=E(e._component,e._props);return n.appContext=e._context,e.provide(N,r),Promise.resolve(_(n)).then(s=>D(s,t)).then(()=>O(r)).then(()=>{if(r.__watcherHandles)for(const s of r.__watcherHandles)s()}).then(()=>t.push(null)).catch(s=>{t.destroy(s)}),t}function je(e,r={}){return console.warn("[@vue/server-renderer] renderToStream is deprecated - use renderToNodeStream instead."),ke(e,r)}function ke(e,r={}){throw new Error("ESM build of renderToStream() does not support renderToNodeStream(). Use pipeToNodeWritable() with an existing Node.js Writable stream instance instead.")}function Ue(e,r={},t){b(e,r,{push(n){n!=null?t.write(n):t.end()},destroy(n){t.destroy(n)}})}function qe(e,r={}){if(typeof ReadableStream!="function")throw new Error("ReadableStream constructor is not available in the global scope. If the target environment does support web streams, consider using pipeToWebWritable() with an existing WritableStream instance instead.");const t=new TextEncoder;let n=!1;return new ReadableStream({start(s){b(e,r,{push(o){n||(o!=null?s.enqueue(t.encode(o)):s.close())},destroy(o){s.error(o)}})},cancel(){n=!0}})}function ze(e,r={},t){const n=t.getWriter(),s=new TextEncoder;let o=!1;try{o=g(n.ready)}catch{}b(e,r,{async push(i){return o&&await n.ready,i!=null?n.write(s.encode(i)):n.close()},destroy(i){console.log(i),n.close()}})}fe();export{Ue as pipeToNodeWritable,ze as pipeToWebWritable,ke as renderToNodeStream,b as renderToSimpleStream,je as renderToStream,$e as renderToString,qe as renderToWebStream,Oe as ssrGetDirectiveProps,Ge as ssrGetDynamicModelProps,z as ssrIncludeBooleanAttr,We as ssrInterpolate,W as ssrLooseContain,De as ssrLooseEqual,pe as ssrRenderAttr,ue as ssrRenderAttrs,he as ssrRenderClass,xe as ssrRenderComponent,de as ssrRenderDynamicAttr,Le as ssrRenderDynamicModel,Me as ssrRenderList,Pe as ssrRenderSlot,me as ssrRenderSlotInner,ye as ssrRenderStyle,He as ssrRenderSuspense,Te as ssrRenderTeleport,S as ssrRenderVNode};
