import{useData as i}from"./chunks/data.Xzn-VJ5F.js";import{provide as n,openBlock as e,createElementBlock as p,createStaticVNode as a,createBaseVNode as s,createTextVNode as l}from"./chunks/sutras-console.ChiQzqOZ.js";const t=a('<h1 id="插件设置" tabindex="-1">插件设置 <a class="header-anchor" href="#插件设置" aria-label="Permalink to &quot;插件设置&quot;">​</a></h1><h2 id="root" tabindex="-1">工作目录 <a class="header-anchor" href="#root" aria-label="Permalink to &quot;工作目录 {#root}&quot;">​</a></h2><p><strong>工作目录</strong>指的是，Sutras识别<code>package</code>,<code>component</code>以及<code>demo</code>的根目录。</p><p>Sutras将从工作目录中识别<code>packages</code>，进而匹配<code>demo</code>，这样有助于提升文档书写体验，以及可维护性，否则文档书写过程，需要配置大量的路径信息。</p><p>大多数情况下，docs文档会作为单独文件夹存在于project中，或作为单独的package存在于<a href="https://semaphoreci.com/blog/what-is-monorepo" target="_blank" rel="noreferrer">monorepo</a>项目中。 默认情况下：</p><ul><li><p>如果是 <code>monorepo</code> 项目，那么Sutras会指定其 <code>workspace</code>根目录作为自己的工作目录。目前Sutras支持<code>Yarn</code>, <code>Bolt</code>, <code>Lerna</code>, <code>pnpm</code>, <code>Rush</code>，如果你采用的其他<code>monorepo</code>方案，请参考<a href="#package">手动配置packages</a></p></li><li><p>如果是<code>single-package</code>项目，那么Sutras会采用<a href="https://vitepress.dev/zh/reference/site-config#config-resolution" target="_blank" rel="noreferrer">Vitepress的工作目录</a></p></li></ul><p>其他情况，那么就需要手动指定root的工作目录，或<a href="#package">手动配置packages</a>。如果同时配置了<code>root</code>,<code>packages</code>，Sutras会以<code>packages</code>配置优先的规则，将识别结果合并。</p>',7),h=s("h3",{"define-root-custom":"",id:"自定义工作目录",tabindex:"-1"},[l("自定义工作目录 "),s("a",{class:"header-anchor",href:"#自定义工作目录","aria-label":'Permalink to "自定义工作目录 {define-root-custom}"'},"​")],-1),k=a(`<p>Sutras的工作目录通过root选项来指定，支持绝对路径与相对路径，相对路径以<a href="https://vitepress.dev/zh/reference/site-config#config-resolution" target="_blank" rel="noreferrer">Vitepress的工作目录</a>为基准：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { defineConfig } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;vite&#39;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { pluginVite </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sutrasVite } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sutras/plugin&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        sutrasVite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            root: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;&#39;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /** 自定义工作目录 */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="package" tabindex="-1">Package配置 <a class="header-anchor" href="#package" aria-label="Permalink to &quot;Package配置 {#package}&quot;">​</a></h2><p>添加workspace之外的package，或为package指定别名，指定后，Sutras将同时根据package名称与alias名称来扫描demo</p><p>关于路径解析，详见<a href="./../path">路径解析</a></p><ul><li><p>设置项: <code>packages</code></p></li><li><p>类型: <code>PackageOption</code></p><div class="language-ts vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ts</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">type</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> PackageOption</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@name</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 路径</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  path</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  * </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">@name</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> 别名</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  */</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  alias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">defineConfig</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    plugins: [</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        sutrasVite</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            packages: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;/absolute/path/to/package1&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    alias: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;package1&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;relative/path/from/root/to/package2&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    /** alias 默认为：package2 */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    path: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;any/type/path/to/package3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                    /**</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      * alias 支持数组形式，但需要保证唯一</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      * 这样做的目的，只为了兼容特殊情况</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      * 一般不建议这样做，会为文档的运维工作增加负担</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                      */</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    alias: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;package3&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PA&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><p>如果最终结果出现名称冲突，Sutras将在开发服务启动时抛出错误。</p></li></ul><h2 id="demos" tabindex="-1">定义demos目录 <a class="header-anchor" href="#demos" aria-label="Permalink to &quot;定义demos目录 {#demos}&quot;">​</a></h2><p>指定demos目录名，指定后，Sutras将根据你指定的demos目录名来扫描demo</p><ul><li><p>设置项: <code>demoDirname</code></p></li><li><p>类型: <code>string</code></p></li><li><p>默认值: <code>demos</code></p><p>详见<a href="./../path">路径解析</a></p></li></ul><h2 id="demo-config" tabindex="-1">定义demo全局配置 <a class="header-anchor" href="#demo-config" aria-label="Permalink to &quot;定义demo全局配置 {#demo-config}&quot;">​</a></h2><p>指定demo的全局配置</p><ul><li><p>设置项: <code>demo</code></p></li><li><p>类型: <code>DemoConfig</code></p><p>详见<a href="./../writing/docs">demo设置项</a></p></li></ul>`,12),d=[t,h,k],u=JSON.parse('{"title":"插件设置","description":"","frontmatter":{},"headers":[],"relativePath":"guide/config/index.md","filePath":"guide/config/index.md","lastUpdated":null}'),r={name:"guide/config/index.md"},m=Object.assign(r,{setup(o){return n("PageDataInjectKey",i()),(c,g)=>(e(),p("div",null,d))}});export{u as __pageData,m as default};
